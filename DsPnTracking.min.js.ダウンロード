"use strict";!function(e){function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}var t={};n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=5)}([function(e,n){e.exports={getCookie:function(e){var n=void 0;return document.cookie.split(";").map(function(t){if(t.indexOf("=")){var o=t.split("="),r=o[0].replace(" ",""),a=o[1];e===r&&(n=a)}}),n?decodeURIComponent(n):""},setCookie:function(e,n,t,o){if(e&&n){var r=t||90,a=new Date,i=a.getDate()+r;a.setDate(i);var c=e+"="+n+"; path=/; expires="+a.toGMTString();o&&(c=c+"; domain="+o),document.cookie=c}},isGaReady:function(e){return void 0===e&&(e=!0),"undefined"!=typeof ga&&"function"==typeof ga&&e},objMerge:function(e,n){for(var t=n||{},o=this.objKeys(e),r=0;r<o.length;r+=1)t[o[r]]=e[o[r]];return t},objCreate:function(e){function n(){}if(e!==Object(e)&&null!==e)throw TypeError("Argument must be an object, or null");return n.prototype=e,new n},detectIos8or9:function(){var e=navigator.userAgent.toLowerCase();return/(iphone|ipod|ipad).* os 8_/.test(e)||/(iphone|ipod|ipad).* os 9_/.test(e)},toType:function(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()},objKeys:function(e){if("object"!==this.toType(e)||null===e)throw new TypeError("Object.keys called on a non-object or null");var n=[];for(var t in e)e.hasOwnProperty(t)&&n.push(t);return n}}},function(e,n,t){var o=t(0),r=void 0;e.exports=r={create:function(e,n){var t=o.objCreate(r.prototype);return t.gaId=n||"",t.name=e,t.uid="",t.uid2="",t.baseBeaconUrl="",t.beaconParamMap={},t.cid="",t},getName:function(e){return ds.name},addPlugin:function(e){this.prototype=o.objMerge(this.prototype,e)},prototype:{initBeaconUrl:function(e,n,t){"function"==typeof e&&e.apply()?(this.isProd=!0,this.baseBeaconUrl=n):(this.isProd=!1,this.baseBeaconUrl=t)},getCookie:function(e){return o.getCookie(e)},setCookie:function(e,n,t,r){return o.setCookie(e,n,t,r)},addUid:function(e,n,t){var r=void 0;switch(n){case"cookie":var a=o.getCookie(t);r=a||"unknown";break;case"prop":r=this.hasOwnProperty(t)?this[t]:"unknown";break;case"var":r=window[t]?window[t]:"unknown";break;default:r=""}void 0,this[e]=r},addBeaconParam:function(e,n){if("string"==typeof e){var t={};t[e]=n,this.beaconParamMap=o.objMerge(this.beaconParamMap,t),void 0}},joinBeaconParam:function(e){e=e||"";var n=this,t=[];try{t=o.objKeys(n.beaconParamMap).map(function(t,o,r){var a="";if(n.beaconParamMap.hasOwnProperty(t)&&(a=n.beaconParamMap[t].apply()))return e=this._replaceUrl(e,t),t+"="+a},this)}catch(e){void 0}var r=(t=t.filter(function(e){return e})).length>0?"&"+t.join("&"):"";return r=r||"",e+r},_replaceUrl:function(e,n){if((e=e||"").indexOf("&"+n+"=&")>-1||e.indexOf("&"+n+"=unknown&")>-1){var t=new RegExp("(&"+n+"=.*?&)");e=e.replace(t,"&")}return e},getGoogleClientId:function(){var e=this,n=void 0;return o.isGaReady()&&ga(function(){var t="";ga.getAll().map(function(n){n.b.data.values[":trackingId"]===e.gaId&&(t=n)}),n=t.get("clientId")}),void 0,n=n||"",this.cid=n,n},genBeaconUrl:function(e,n,t){return this.beaconUrl=this.baseBeaconUrl,this.beaconUrl+="?tid="+this.name,this.beaconUrl+="&uid="+this.uid,this.beaconUrl+="&uid2="+this.uid2,this.beaconUrl+="&T="+encodeURIComponent(document.title),this.beaconUrl+="&L=jp",this.beaconUrl+="&H="+encodeURIComponent(location.hostname),this.beaconUrl+="&url="+encodeURIComponent(location.href),this.beaconUrl+=e?"&EVT="+e:"",this.beaconUrl+=n?"&EVID="+n:"",this.beaconUrl+=t?"&EVP="+t:"",this.beaconUrl+="referrer"in document?"&referer="+encodeURIComponent(document.referrer):"",this.beaconUrl+="&R="+Math.random().toString(36).slice(-8),this.beaconUrl+="&UT="+(new Date).getTime(),this.beaconUrl+="&gcid="+this.getGoogleClientId(),this.beaconUrl=this.joinBeaconParam(this.beaconUrl),void 0,this.beaconUrl},sendBeacon:function(e,n,t,r,a){e=e||"track",n=n||"",t=t||"",r=r||!1;var i=this;if(a=a||0,r)for(;a<10&&"undefined"==typeof ga;)return void 0,void setTimeout(function(){i.sendBeacon(e,n,t,r,++a)},100);if(o.isGaReady(r)){var c=i.uid;ga("create",i.gaId,"auto",{name:"dsTracker",userId:c}),ga("dsTracker.send","pageview"),void 0}this.genBeaconUrl(e,n,t),this.insertScript(this.beaconUrl),void 0},insertScript:function(e,n){var t=!1!==n;void 0;var o=document,r=o.createElement("script");r.async=t,r.type="text/javascript",r.src=e;var a=o.getElementsByTagName("script")[0];return a.parentNode.insertBefore(r,a),void 0,r}}}},function(e,n,t){var o=t(0);e.exports={getActionData:function(){try{return"undefined"!=typeof _cosmi_params&&_cosmi_params[0].hasOwnProperty("action_data")?encodeURIComponent(_cosmi_params[0].action_data):""}catch(e){return void 0,void 0,""}},writeSegment:function(e,n){o.setCookie(e,n)},getLinkId:function(){var e=o.getCookie("ci_session").match(/"userId";s:20:(".*?")/),n="";return e&&e.length>0?n=e[1].replace(/"/g,""):window._cosmi_params&&window._cosmi_params.length>0&&(n=window._cosmi_params[0].link_id),n},isDisplayAdhesion:function(){return $("div.adhesion").children().length>9},saveHistory:function(e){e=e||"pageview";var n;try{if(o.detectIos8or9())return void(n="unavailable");var t=indexedDB.open("history");n="available"}catch(e){void 0,n="unavailable"}return void 0,t.onupgradeneeded=function(){var e=t.result.createObjectStore("store",{keyPath:"count"});e.createIndex("timestamp","timestamp"),e.createIndex("count","count")},t.onsuccess=function(){var n=t.result,o=n.transaction("store","readwrite").objectStore("store"),r=o.index("count").openCursor(null,"prev"),a=null,i=function(){try{var e,n,t;return(e=_cosmi_params[0].action_data.split("-").map(function(e){return e.indexOf("k_dcode")>-1?e.split(".")[1]:e.indexOf("k_gakubu")>-1?e.split(".")[1]:void 0}).filter(function(e){return e})).length>1?(t=e[0],n=ds18bunruiMaster[e.join("_")]):e.length>0&&(t=e[0],n=[]),{bunrui:n,dcode:t}}catch(e){return{bunrui:[],dcode:void 0}}}();r.onsuccess=function(n){a=n.target.result?n.target.result.value.count+1:1,o.put({path:location.href,event_type:e,timestamp:new Date(Date.now()),count:a,bunrui:i.bunrui,dcode:i.dcode})};var c=new Date(Date.now()-2592e6);void 0;var s=IDBKeyRange.upperBound(c);n.transaction("store","readwrite").objectStore("store").index("timestamp").openCursor(s).onsuccess=function(e){void 0;var n=e.target.result;n&&(void 0,n.delete(),n.continue())}},n}}},function(e,n,t){t(0);e.exports={getSenmonFlg:function(e){var n=e.search(/\.com\/senmon\//);return n>-1&&n<35},getScodeKey:function(e){var n=e.match(/\.com\/senmon\/search_senmon\/(.*)\//);return n&&n.length>0?n[1]:""},getActionData:function(){try{return"undefined"!=typeof _cosmi_params&&_cosmi_params[0].hasOwnProperty("action_data")?encodeURIComponent(_cosmi_params[0].action_data):""}catch(e){return void 0,void 0,""}}}},,function(e,n,t){e.exports=t(6)},function(e,n,t){var o=t(1),r=t(2),a=t(3);o.addPlugin(r),o.addPlugin(a);var i=o.create("passnavi_1","UA-105800189-1");i.initBeaconUrl(function(){return location.host.indexOf("dev.akagi")<0&&location.host.indexOf("dev-account")<0},"https://track.edu-info.jp/track/passnavi","https://dev-track.edu-info.jp/track/passnavi");var c=i.saveHistory();i.addUid("uid","cookie","__duraid"),i.addUid("uid2","cookie","o_uid"),i.getSenmonFlg(location.href)?(i.initBeaconUrl(function(){return location.host.indexOf("dev.akagi")<0&&location.host.indexOf("dev-account")<0},"https://track.edu-info.jp/track/senmon-pv","https://dev-track.edu-info.jp/track/senmon-pv"),i.addBeaconParam("EVP",function(){return i.getScodeKey(location.href)})):(i.addBeaconParam("ACT",i.getActionData),i.addBeaconParam("lid",i.getLinkId),i.addBeaconParam("EVP",function(){return c})),i.addBeaconParam("uid",function(){return void 0!==i.uid&&"unknown"!==i.uid||"undefined"==typeof cid||""===cid?(void 0,""):(i.uid=cid,void 0,cid)}),i.sendBeacon("pageview","","",!0),i.insertScript(i.isProd?"https://track.edu-info.jp/segment:"+i.uid+"?cat=center17&cb=eduDmp.writeSegment":"https://dev-track.edu-info.jp/segment:"+i.uid+"?cat=center17&cb=eduDmp.writeSegment"),window.eduDmp=i}]);